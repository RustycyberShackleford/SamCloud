<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>SAM.gov Search</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 24px; }
    .card { border:1px solid #ddd; padding:16px; border-radius:8px; max-width:760px; }
    input, select, button { font-size:16px; padding:8px; }
    label { font-weight: 600; }
    .banner { padding:10px; border-radius:8px; margin-bottom:12px; }
    .info { background:#eef5ff; border:1px solid #b5cffb; }
  </style>
</head>
<body>
  <h2>SAM.gov â€” Entities & Opportunities</h2>
  <div class="banner info">Set <code>DEMO_MODE=false</code> and provide <code>SAM_API_KEY</code> to use live data.</div>
  <div class="card">
    <form method="POST" action="/search">
      <label>Search Type:</label><br/>
      <select name="searchType" id="searchType" onchange="updatePlaceholder()">
        <option value="entity_name">Entity by Name</option>
        <option value="opps_naics">Opportunities by NAICS</option>
      </select>
      <br/><br/>
      <label id="qLabel">Enter Name:</label><br/>
      <input type="text" name="query" id="query" style="width: 420px" placeholder="e.g., Acme" required>
      <br/><br/>
      <button type="submit">Search</button>
    </form>
  </div>
  <script>
    function updatePlaceholder(){
      const sel = document.getElementById('searchType').value;
      const q = document.getElementById('query');
      const lbl = document.getElementById('qLabel');
      if(sel === 'opps_naics'){
        q.placeholder = 'e.g., 541512';
        lbl.textContent = 'Enter NAICS code:';
      } else {
        q.placeholder = 'e.g., Acme';
        lbl.textContent = 'Enter Name:';
      }
    }
  </script>
</body>
</html>
